{
  "hash": "28404985f87314c27166b0d69ee395e6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Problem Set 1 Key\"\nformat: \n  html: \n    engine: knitr\n    embed-resources: true\n  pdf:\n    number-sections: true\n---\n\n\n\n\n\n\n1. The data set `Arrests` can be accessed through the package `car` in` R`. The data set includes data on police treatment of individuals arrested in Toronto for simple possession of small quantities of marijuana. The data are part of a larger data set featured in a series of articles in the Toronto Star newspaper.\n\n- Provide the relevant `R` code to install the `car` package in `R`. \n\n```{.r}\ninstall.packages(\"car\")\n```\n\n- Provide the relevant `R` code to load the `car` package. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(car)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: carData\n```\n\n\n:::\n:::\n\n\n\n\n- Explore the `Arrests` data set using `glimpse()` to show the different variables available in the data set. What are the different variables in the `Arrests` data set? Show your code. [4pts.]\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.5.1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --\nv dplyr     1.1.4     v readr     2.1.5\nv forcats   1.0.0     v stringr   1.5.1\nv ggplot2   4.0.0     v tibble    3.2.1\nv lubridate 1.9.4     v tidyr     1.3.1\nv purrr     1.0.4     \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\nx dplyr::recode() masks car::recode()\nx purrr::some()   masks car::some()\ni Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(Arrests)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 5,226\nColumns: 8\n$ released <fct> Yes, No, Yes, No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes~\n$ colour   <fct> White, Black, White, Black, Black, Black, White, White, Black~\n$ year     <int> 2002, 1999, 2000, 2000, 1999, 1998, 1999, 1998, 2000, 2001, 1~\n$ age      <int> 21, 17, 24, 46, 27, 16, 40, 34, 23, 30, 18, 18, 17, 42, 26, 2~\n$ sex      <fct> Male, Male, Male, Male, Female, Female, Male, Female, Male, M~\n$ employed <fct> Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes, Yes, Ye~\n$ citizen  <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Ye~\n$ checks   <int> 3, 3, 3, 1, 1, 0, 0, 1, 4, 3, 0, 3, 1, 0, 2, 3, 4, 5, 3, 0, 0~\n```\n\n\n:::\n:::\n\n\n\n\n\n- Create a frequency table for the year of arrests (year variable). Which year had the most arrests? Show your code. [2pts.]\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(summarytools)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'summarytools' was built under R version 4.5.1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'summarytools'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:tibble':\n\n    view\n```\n\n\n:::\n\n```{.r .cell-code}\nfreq(Arrests$year)\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in match(x, table, nomatch = 0L): 'match' requires vector arguments\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in parse_call(mc = match.call(), caller = \"freq\"): metadata extraction\nterminated unexpectedly; inspect results carefully\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFrequencies  \n\n              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.\n----------- ------ --------- -------------- --------- --------------\n       1997    492      9.41           9.41      9.41           9.41\n       1998    877     16.78          26.20     16.78          26.20\n       1999   1099     21.03          47.23     21.03          47.23\n       2000   1270     24.30          71.53     24.30          71.53\n       2001   1211     23.17          94.70     23.17          94.70\n       2002    277      5.30         100.00      5.30         100.00\n       <NA>      0                               0.00         100.00\n      Total   5226    100.00         100.00    100.00         100.00\n```\n\n\n:::\n:::\n\n\n\n::: callout-note\nThe year with the most arrests was 2000.\n:::\n\n- Create a bar plot to visualize the frequencies of arrests for each year using ggplot() and geom_bar(). Show your code. [2pts.]\n\nAcceptable solution (full credit):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=Arrests,aes(x=year)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-4-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\nBetter solution:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=Arrests,aes(x=as.factor(year))) +\n  geom_bar(color=\"black\") + \n  theme_bw() + \n  labs(x=\"Year\", y=\"Frequency\")\n```\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-5-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n2. The file `SleepHealthData.csv` comprises 400 rows and 13 columns, covering a wide range of variables related to sleep and daily habits. It includes details such as gender, age, occupation, sleep duration, quality of sleep, physical activity level, stress levels, BMI category, blood pressure, heart rate, daily steps, and the presence or absence of sleep disorders.\n\n- Provide the relevant `R` code to import `SleepHealthData.csv` into `R` and assign it to the variable `sleep`. \n\n::: callout-important\nSave the CSV file in the same folder as your `R `script!\n:::\n\n```{.r}\ngetwd() # provides your working directory\n```\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsleep <- read.csv(\"SleepHealthData.csv\")\n```\n:::\n\n\n\n\n- Complete the following table for the recorded heart rate of the participants. Show your code. \n\nMean:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 70.16578\n```\n\n\n:::\n:::\n\n\n\n\nMedian:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmedian(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 70\n```\n\n\n:::\n:::\n\n\n\n\nRange:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax(sleep$heart_rate)-min(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 21\n```\n\n\n:::\n:::\n\n\n\n\nVariance and Standard Deviation:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvar(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 17.10381\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.135676\n```\n\n\n:::\n:::\n\n\n\n\nMinimum and Maximum:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmin(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 65\n```\n\n\n:::\n\n```{.r .cell-code}\nmax(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 86\n```\n\n\n:::\n:::\n\n\n\n\n$Q_1$, $Q_3$, and IQR:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquantile(sleep$heart_rate,0.25)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n25% \n 68 \n```\n\n\n:::\n\n```{.r .cell-code}\nquantile(sleep$heart_rate,0.75)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n75% \n 72 \n```\n\n\n:::\n\n```{.r .cell-code}\nIQR(sleep$heart_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n\n\n\n\n- Create a histogram for the recorded heart rate of all the participants using `ggplot()` and `geom_histogram()`. Show your code. \n\nAcceptable (full credit):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=sleep, aes(x=heart_rate)) + \n  geom_histogram()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-13-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\nBetter version:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=sleep, aes(x=heart_rate)) + \n  geom_histogram(color=\"white\", binwidth=2.5, fill=\"black\") + \n  theme_bw() +\n  labs(x=\"Heart Rate Measurement\")\n```\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-14-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n- Create a boxplot for the recorded heart rate of all the participants grouped by gender using ggplot() and geom_boxplot(). Show your code. (Hint: Use x=gender in the aes() function.) \n\nAcceptable (full credit):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=sleep, aes(x=gender,y=heart_rate)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-15-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\nBetter version:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=sleep, aes(x=gender, y=heart_rate)) + \n  geom_boxplot() + \n  theme_bw() + \n  labs(x=\"Gender\",y=\"Heart Rate Measurement\")\n```\n\n::: {.cell-output-display}\n![](PS1_key_files/figure-pdf/unnamed-chunk-16-1.pdf){fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "PS1_key_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}